(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{608:function(e,t,n){"use strict";n.r(t);var r={name:"component-exhibition",components:{"firm-demo0":(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e})({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[[n("div",[n("p",[n("el-button",{on:{click:function(t){return e.insertEvent()}}},[e._v("新增")]),e._v(" "),n("el-button",{on:{click:function(t){return e.insertEvent(-1)}}},[e._v("在最后行插入")]),e._v(" "),n("el-button",{on:{click:e.getInsertEvent}},[e._v("获取新增")]),e._v(" "),n("el-button",{on:{click:e.saveEvent}},[e._v("保存")])],1),e._v(" "),n("ux-grid",{ref:"plxTable",attrs:{border:"","show-overflow":"","max-height":400,data:e.tableData,highlightCurrentRow:!1,"edit-config":{trigger:"click",mode:"row"}}},[n("ux-table-column",{attrs:{type:"index",width:"80"}}),e._v(" "),n("ux-table-column",{attrs:{field:"name",title:"名字",width:"140","edit-render":""},scopedSlots:e._u([{key:"edit",fn:function(t){return[n("el-input",{model:{value:t.row.name,callback:function(n){e.$set(t.row,"name",n)},expression:"scope.row.name"}})]}}])}),e._v(" "),n("ux-table-column",{attrs:{field:"age",title:"年龄",width:"160","edit-render":""},scopedSlots:e._u([{key:"header",fn:function(t){var r=t.column;return[n("span",[e._v(e._s(r.title))])]}},{key:"edit",fn:function(t){var r=t.row;return[n("el-input",{staticStyle:{width:"100%"},attrs:{type:"number",placeholder:"请输入内容"},on:{input:function(t){return e.updateFooterEvent(r.age)}},model:{value:r.age,callback:function(t){e.$set(r,"age",t)},expression:"row.age"}})]}}])}),e._v(" "),n("ux-table-column",{attrs:{field:"sex",title:"性别","min-width":"140","edit-render":""},scopedSlots:e._u([{key:"edit",fn:function(t){return[n("el-select",{on:{change:function(n){return e.$refs.plxTable.updateStatus(t)}},model:{value:t.row.sex,callback:function(n){e.$set(t.row,"sex",n)},expression:"scope.row.sex"}},e._l(e.sexList,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)]}},{key:"default",fn:function(t){var n=t.row;return[e._v(e._s(e.getLabel(n.sex)))]}}])})],1)],1)]],2)},staticRenderFns:[]},{data:function(){return{tableData:[],columns:[],sexList:[{value:"nan",label:"男"},{value:"nv",label:"女"},{value:"weizhi",label:"未知"}]}},mounted:function(){this.tableData=Array.from({length:3},(function(e,t){return{id:t+1,date:"2016-05-03",name:"张三"+t,sex:"nan",age:18+t}}))},methods:{getLabel:function(e){var t=this.sexList.filter((function(t){return t.value===e}))[0];return t?t.label:""},insertEvent:function(e){var t,n=this;return(t=regeneratorRuntime.mark((function t(){var r,l,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={name:"李四",sex:"nv",age:18},t.next=3,n.$refs.plxTable.insertRow(r,e);case 3:return l=t.sent,a=l.row,t.next=7,n.$refs.plxTable.setActiveRow(a);case 7:case"end":return t.stop()}}),t,n)})),function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(l,a){try{var o=e[l](a),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(i)}("next")}))})()},getInsertEvent:function(){var e=this.$refs.plxTable.getInsertRecords();console.log(e)},saveEvent:function(){var e=this.$refs.plxTable.getInsertRecords();console.log(e)}}})}},l=n(46),a=Object(l.a)(r,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[this._m(0),t("p",[this._v("1.调用insertRow 函数插入临时数据")]),t("div",[t("template",{slot:"source"},[t("firm-demo0")],1),t("template",{slot:"highlight"},[this._m(1)])],2)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"cha-ru-xing"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cha-ru-xing"}},[this._v("¶")]),this._v(" 插入行")])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",{pre:!0},[t("code",{pre:!0,attrs:{class:"html"}},[this._v('  <template>\n   <div>\n     <p>\n         <el-button @click="insertEvent()">新增</el-button>\n         <el-button @click="insertEvent(-1)">在最后行插入</el-button>\n         <el-button @click="getInsertEvent">获取新增</el-button>\n         <el-button @click="saveEvent">保存</el-button>\n     </p>\n      <ux-grid border\n                show-overflow\n                ref="plxTable"\n                :max-height="400"\n                :data="tableData"\n                :highlightCurrentRow="false"\n                :edit-config="{trigger: \'click\', mode: \'row\'}">\n               <ux-table-column type="index" width="80"></ux-table-column>\n               <ux-table-column field="name" title="名字" width="140" edit-render>\n                 <template v-slot:edit="scope">\n                   <el-input v-model="scope.row.name"></el-input>\n                 </template>\n               </ux-table-column>\n               <ux-table-column field="age" title="年龄"  width="160" edit-render>\n                 <template v-slot:header="{ column }">\n                   <span>{{ column.title }}</span>\n                 </template>\n                 <template v-slot:edit="{ row }">\n                    <el-input\n                        v-model="row.age"\n                        type="number"\n                        placeholder="请输入内容"\n                        @input="updateFooterEvent(row.age)"\n                        style="width: 100%"></el-input>\n                 </template>\n               </ux-table-column>\n               <ux-table-column field="sex" title="性别" min-width="140" edit-render>\n                 <template v-slot:edit="scope">\n                   <el-select v-model="scope.row.sex" @change="$refs.plxTable.updateStatus(scope)">\n                     <el-option v-for="item in sexList" :key="item.value" :label="item.label" :value="item.value"></el-option>\n                   </el-select>\n                 </template>\n                 <template v-slot="{ row }">{{ getLabel(row.sex) }}</template>\n               </ux-table-column>\n        </ux-grid>\n   </div>\n  </template>\n\n  <script>\n    export default {\n       data () {\n           return {\n             tableData: [],\n             columns: [],\n             sexList: [\n                { value: \'nan\',label: \'男\' },\n                { value: \'nv\',label: \'女\'},\n                { value: \'weizhi\',label: \'未知\'}\n             ]\n           }\n         },\n       mounted () {\n         // 延迟加载\n         this.tableData = Array.from({ length: 3 }, (_, idx) => ({\n             id: idx + 1,\n             date: \'2016-05-03\',\n             name: \'张三\' + idx,\n             sex: \'nan\',\n             age: 18 + idx\n          }))\n       },\n       methods: {\n          // 转换男女\n          getLabel (val) {\n             const item = this.sexList.filter(item => item[\'value\'] === val)[0]\n             return item ? item.label : \'\'\n           },\n           // 添加插入行\n           async insertEvent (row) {\n            let record = {\n                name: \'李四\',\n               sex: \'nv\',\n               age: 18\n            }\n            // 加入行, 表示加入行的row对象，row为空则插入第一行，为-1插入最后一行\n            let { row: newRow } = await this.$refs.plxTable.insertRow(record, row)\n            // 激活单元格编辑\n            await this.$refs.plxTable.setActiveRow(newRow)\n          },\n          getInsertEvent () {\n              let insertRecords = this.$refs.plxTable.getInsertRecords()\n              console.log(insertRecords)\n          },\n          saveEvent () {\n            const insertRecords = this.$refs.plxTable.getInsertRecords()\n            console.log(insertRecords)\n          }\n       }\n    }\n  <\/script>\n')])])}],!1,null,null,null);t.default=a.exports}}]);